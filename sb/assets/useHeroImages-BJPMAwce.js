import{r as o}from"./iframe-BwC_smXQ.js";import{r as en}from"./index-D-VW027m.js";import{u as tn,g as nn}from"./gatsby-BEP-HLLv.js";import{g as J}from"./gatsby-plugin-image-BrCI91ew.js";const mt="carousel",pt="controller",on="navigation",rn="no-scroll",He="portal",sn="root",gt="toolbar",Te="loading",Me="error",Ae="complete",cn="placeholder",ln=e=>`active-slide-${e}`,vt="flex_center",an="no_scroll",Et="no_scroll_padding",Xe="slide",un="slide_wrapper",ee="prev",te="next",nt="swipe",se="close",xt="onPointerDown",bt="onPointerMove",_t="onPointerUp",Ct="onPointerLeave",yt="onPointerCancel",Pt="onKeyDown",dn="onKeyUp",wt="onWheel",fn="Escape",hn="ArrowLeft",mn="ArrowRight",pn="button",$e="icon",It="contain",ot="cover",gn="Unknown action type",Nt="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function I(e){return`${Nt}${e}`}function B(e){return`--${Nt}${e}`}function fe(e,t){return`${e}${t?`_${t}`:""}`}function Ke(e){return t=>fe(e,t)}function ce(e,t){var r;return(r=e?.[t])!==null&&r!==void 0?r:t}function vn(e,t,r){return ce(e,"{index} of {total}").replace(/\{index}/g,`${ze(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function Lt(...e){return()=>{e.forEach(t=>{t()})}}function G(e,t,r){return()=>{const n=o.useContext(r);if(!n)throw new Error(`${e} must be used within a ${t}.Provider`);return n}}function St(){return typeof window<"u"}function En(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function Rt(e){return e.type===void 0||e.type==="image"}function xn(e,t){return e.imageFit===ot||e.imageFit!==It&&t===ot}function ye(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ce(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=ye(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function bn(e,t){const r=Ce(t),n=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*n,0),height:Math.max(e.height-2*n,0)}}function ze(e,t){return t>0?(e%t+t)%t:0}function Ot(e){return e.length>0}function Dt(e,t){return e[ze(t,e.length)]}function Ue(e,t){return Ot(e)?Dt(e,t):void 0}function _n(e){return Rt(e)?e.src:void 0}function Cn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const yn=Number(o.version.split(".")[0])>=19;function Pn(e){return{inert:yn?e:e?"":void 0}}function wn(e){e.scrollTop}const Ve={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[se]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:It,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function F(e,t){return{module:e,children:t}}function Tt(e,t,r){return e.module.name===t?r(e):e.children?[F(e.module,e.children.flatMap(n=>{var i;return(i=Tt(n,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ie(e,t,r){return e.flatMap(n=>{var i;return(i=Tt(n,t,r))!==null&&i!==void 0?i:[]})}function In(e,t=[],r=[]){let n=e;const i=h=>{const m=[...n];for(;m.length>0;){const d=m.pop();if(d?.module.name===h)return!0;d?.children&&m.push(...d.children)}return!1},s=(h,m)=>{if(h===""){n=[F(m,n)];return}n=ie(n,h,d=>[F(m,[d])])},c=(h,m)=>{n=ie(n,h,d=>[F(d.module,[F(m,d.children)])])},l=(h,m,d)=>{n=ie(n,h,C=>{var b;return[F(C.module,[...d?[F(m)]:[],...(b=C.children)!==null&&b!==void 0?b:[],...d?[]:[F(m)]])]})},u=(h,m,d)=>{n=ie(n,h,C=>[...d?[F(m)]:[],C,...d?[]:[F(m)]])},f=h=>{c(pt,h)},g=(h,m)=>{n=ie(n,h,d=>[F(m,d.children)])},v=h=>{n=ie(n,h,m=>m.children)},p=h=>{r.push(h)};return t.forEach(h=>{h({contains:i,addParent:s,append:c,addChild:l,addSibling:u,addModule:f,replace:g,remove:v,augment:p})}),{config:n,augmentation:h=>r.reduce((m,d)=>d(m),h)}}const Mt=o.createContext(null),At=G("useA11yContext","A11yContext",Mt);function Nn({children:e}){const[t,r]=o.useState(!1),[n,i]=o.useState(!1),s=o.useMemo(()=>({focusWithin:t,trackFocusWithin:(l,u)=>{const f=g=>v=>{var p;v.currentTarget.contains(v.relatedTarget)||r(g),(p=g?l:u)===null||p===void 0||p(v)};return{onFocus:f(!0),onBlur:f(!1)}},autoPlaying:n,setAutoPlaying:i}),[t,n]);return o.createElement(Mt.Provider,{value:s},e)}const kt=o.createContext(null),qe=G("useDocument","DocumentContext",kt);function Ln({nodeRef:e,children:t}){const r=o.useMemo(()=>{const n=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:n,getOwnerWindow:s=>{var c;return((c=n(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return o.createElement(kt.Provider,{value:r},t)}const Ft=o.createContext(null),Pe=G("useEvents","EventsContext",Ft);function Sn({children:e}){const[t]=o.useState({});o.useEffect(()=>()=>{Object.keys(t).forEach(n=>delete t[n])},[t]);const r=o.useMemo(()=>{const n=(c,l)=>{var u;(u=t[c])===null||u===void 0||u.splice(0,t[c].length,...t[c].filter(f=>f!==l))};return{publish:(...[c,l])=>{var u;(u=t[c])===null||u===void 0||u.forEach(f=>f(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>n(c,l)),unsubscribe:n}},[t]);return o.createElement(Ft.Provider,{value:r},e)}const Wt=o.createContext(null),he=G("useLightboxProps","LightboxPropsContext",Wt);function Rn({children:e,...t}){return o.createElement(Wt.Provider,{value:t},e)}const $t=o.createContext(null),we=G("useLightboxState","LightboxStateContext",$t),Ut=o.createContext(null),On=G("useLightboxDispatch","LightboxDispatchContext",Ut);function Dn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,n=t?.increment||0,i=e.globalIndex+n,s=ze(i,r.length),c=Ue(r,s),l=n||t.duration!==void 0?{increment:n,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ue(t.slides,t.index)}:e;default:throw new Error(gn)}}function Tn({slides:e,index:t,children:r}){const[n,i]=o.useReducer(Dn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ue(e,t)});o.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=o.useMemo(()=>({...n,state:n,dispatch:i}),[n,i]);return o.createElement(Ut.Provider,{value:i},o.createElement($t.Provider,{value:s},r))}const Vt=o.createContext(null),Ie=G("useTimeouts","TimeoutsContext",Vt);function Mn({children:e}){const[t]=o.useState([]);o.useEffect(()=>()=>{t.forEach(n=>window.clearTimeout(n)),t.splice(0,t.length)},[t]);const r=o.useMemo(()=>{const n=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const u=window.setTimeout(()=>{n(u),c()},l);return t.push(u),u},clearTimeout:c=>{c!==void 0&&(n(c),window.clearTimeout(c))}}},[t]);return o.createElement(Vt.Provider,{value:r},e)}const Bt=o.forwardRef(function({label:t,className:r,icon:n,renderIcon:i,onClick:s,style:c,...l},u){const{styles:f,labels:g}=he(),v=ce(g,t);return o.createElement("button",{ref:u,type:"button",title:v,"aria-label":v,className:Y(I(pn),r),onClick:s,style:{...c,...f.button},...l},i?i():o.createElement(n,{className:I($e),style:f.icon}))});function An(e,t){const r=n=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...n},t);return r.displayName=e,r}function me(e,t){return An(e,o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const kn=me("Close",o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Fn=me("Previous",o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Wn=me("Next",o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),$n=me("Loading",o.createElement(o.Fragment,null,Array.from({length:8}).map((e,t,r)=>o.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Un=me("Error",o.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),pe=St()?o.useLayoutEffect:o.useEffect;function Ht(){const[e,t]=o.useState(!1);return o.useEffect(()=>{var r,n;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const s=c=>t(c.matches);return(n=i?.addEventListener)===null||n===void 0||n.call(i,"change",s),()=>{var c;return(c=i?.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function Vn(e){let t=0,r=0,n=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(ye);c.length===6?(t=c[4],r=c[5]):c.length===16&&(t=c[12],r=c[13],n=c[14])}return{x:t,y:r,z:n}}function rt(e,t){const r=o.useRef(void 0),n=o.useRef(void 0),i=Ht();return pe(()=>{var s,c,l;if(e.current&&r.current!==void 0&&!i){const{keyframes:u,duration:f,easing:g,onfinish:v}=t(r.current,e.current.getBoundingClientRect(),Vn(e.current))||{};if(u&&f){(s=n.current)===null||s===void 0||s.cancel(),n.current=void 0;try{n.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,u,{duration:f,easing:g})}catch(p){console.error(p)}n.current&&(n.current.onfinish=()=>{n.current=void 0,v?.()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=n.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Xt(){const e=o.useRef(null),t=o.useRef(void 0),[r,n]=o.useState();return{setContainerRef:o.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),u=f=>parseFloat(f)||0;n({width:Math.round(s.clientWidth-u(l.paddingLeft)-u(l.paddingRight)),height:Math.round(s.clientHeight-u(l.paddingTop)-u(l.paddingBottom))})}else n(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function _e(){const e=o.useRef(void 0),{setTimeout:t,clearTimeout:r}=Ie();return o.useCallback((n,i)=>{r(e.current),e.current=t(n,i>0?i:0)},[t,r])}function A(e){const t=o.useRef(e);return pe(()=>{t.current=e}),o.useCallback((...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function it(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Be(e,t){return o.useMemo(()=>e==null&&t==null?null:r=>{it(e,r),it(t,r)},[e,t])}function Bn(e,t=!1){const r=o.useRef(!1);pe(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const n=o.useCallback(()=>{r.current=!0},[]),i=o.useCallback(()=>{r.current=!1},[]);return{onFocus:n,onBlur:i}}function Ye(){const[e,t]=o.useState(!1);return pe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Hn(){const[e]=o.useState({}),t=o.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),r=o.useMemo(()=>({onPointerDown:i=>t(xt,i),onPointerMove:i=>t(bt,i),onPointerUp:i=>t(_t,i),onPointerLeave:i=>t(Ct,i),onPointerCancel:i=>t(yt,i),onKeyDown:i=>t(Pt,i),onKeyUp:i=>t(dn,i),onWheel:i=>t(wt,i)}),[t]),n=o.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:r,subscribeSensors:n}}function st(e,t){const r=o.useRef(0),n=_e(),i=A((...s)=>{r.current=Date.now(),e(s)});return o.useCallback((...s)=>{n(()=>{i(s)},t-(Date.now()-r.current))},[t,i,n])}const ke=Ke("slide"),Fe=Ke("slide_image");function Xn({slide:e,offset:t,render:r,rect:n,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:u,style:f}){var g,v,p,h,m,d,C,b;const[y,L]=o.useState(Te),{publish:D}=Pe(),{setTimeout:R}=Ie(),P=o.useRef(null);o.useEffect(()=>{t===0&&D(ln(y))},[t,y,D]);const x=A(w=>{("decode"in w?w.decode():Promise.resolve()).catch(()=>{}).then(()=>{w.parentNode&&(L(Ae),R(()=>{l?.(w)},0))})}),O=o.useCallback(w=>{P.current=w,w?.complete&&x(w)},[x]),N=o.useCallback(w=>{x(w.currentTarget)},[x]),K=A(()=>{L(Me),u?.()}),M=xn(e,i),U=(w,oe)=>Number.isFinite(w)?w:oe,E=U(Math.max(...((v=(g=e.srcSet)===null||g===void 0?void 0:g.map(w=>w.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((p=P.current)===null||p===void 0?void 0:p.naturalWidth)||0),T=U(Math.max(...((m=(h=e.srcSet)===null||h===void 0?void 0:h.map(w=>w.height))!==null&&m!==void 0?m:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((d=P.current)===null||d===void 0?void 0:d.naturalHeight)||0),_=E&&T?{maxWidth:`min(${E}px, 100%)`,maxHeight:`min(${T}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},k=(C=e.srcSet)===null||C===void 0?void 0:C.sort((w,oe)=>w.width-oe.width).map(w=>`${w.src} ${w.width}w`).join(", "),W=()=>n&&!M&&e.width&&e.height?n.height/e.height*e.width:Number.MAX_VALUE,Q=k&&n&&St()?`${Math.round(Math.min(W(),n.width))}px`:void 0,{style:le,className:Ne,...j}=s||{};return o.createElement(o.Fragment,null,o.createElement("img",{ref:O,onLoad:N,onError:K,onClick:c,draggable:!1,className:Y(I(Fe()),M&&I(Fe("cover")),y!==Ae&&I(Fe("loading")),Ne),style:{..._,...f,...le},...j,alt:(b=e.alt)!==null&&b!==void 0?b:"",sizes:Q,srcSet:k,src:e.src}),y!==Ae&&o.createElement("div",{className:I(ke(cn))},y===Te&&(r?.iconLoading?r.iconLoading():o.createElement($n,{className:Y(I($e),I(ke(Te)))})),y===Me&&(r?.iconError?r.iconError():o.createElement(Un,{className:Y(I($e),I(ke(Me)))}))))}const Kn=o.forwardRef(function({className:t,children:r,onFocus:n,onBlur:i,...s},c){const l=o.useRef(null),{trackFocusWithin:u}=At();return o.createElement(Ln,{nodeRef:l},o.createElement("div",{ref:Be(c,l),className:Y(I("root"),t),...u(n,i),...s},r))});var $;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})($||($={}));function zn(e,t,r,n,i){o.useEffect(()=>Lt(e(xt,t),e(bt,r),e(_t,n),e(Ct,n),e(yt,n)),[e,t,r,n,i])}var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(X||(X={}));const We=30;function qn({disableSwipeNavigation:e,closeOnBackdropClick:t},r,n,i,s,c,l,u,f,g,v,p,h,m,d,C){const b=o.useRef(0),y=o.useRef([]),L=o.useRef(void 0),D=o.useRef(0),R=o.useRef(X.NONE),P=o.useCallback(E=>{L.current===E.pointerId&&(L.current=void 0,R.current=X.NONE);const T=y.current;T.splice(0,T.length,...T.filter(_=>_.pointerId!==E.pointerId))},[]),x=o.useCallback(E=>{P(E),E.persist(),y.current.push(E)},[P]),O=o.useCallback(E=>y.current.find(({pointerId:T})=>E.pointerId===T),[]),N=A(E=>{x(E)}),K=(E,T)=>v&&E>T||g&&E<-T,M=A(E=>{const T=O(E);if(T)if(L.current===E.pointerId){const _=Date.now()-D.current,k=b.current;R.current===X.SWIPE?Math.abs(k)>.3*i||Math.abs(k)>5&&_<s?u(k,_):f(k):R.current===X.PULL&&(K(k,2*We)?m(k,_):d(k)),b.current=0,R.current=X.NONE}else{const{target:_}=E;t&&_ instanceof HTMLElement&&_===T.target&&(_.classList.contains(I(Xe))||_.classList.contains(I(un)))&&C()}P(E)}),U=A(E=>{const T=O(E);if(T){const _=L.current===E.pointerId;if(E.buttons===0){_&&b.current!==0?M(E):P(T);return}const k=E.clientX-T.clientX,W=E.clientY-T.clientY;if(L.current===void 0){const Q=le=>{x(E),L.current=E.pointerId,D.current=Date.now(),R.current=le};Math.abs(k)>Math.abs(W)&&Math.abs(k)>We&&n(k)?e||(Q(X.SWIPE),c()):Math.abs(W)>Math.abs(k)&&K(W,We)&&(Q(X.PULL),p())}else _&&(R.current===X.SWIPE?(b.current=k,l(k)):R.current===X.PULL&&(b.current=W,h(W)))}});zn(r,N,U,M)}function Yn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=o.useRef(null),n=A(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return o.useCallback(i=>{var s;i?i.addEventListener("wheel",n,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",n),r.current=i},[n])}function jn(e,t,r,n,i,s,c,l,u){const f=o.useRef(0),g=o.useRef(0),v=o.useRef(void 0),p=o.useRef(void 0),h=o.useRef(0),m=o.useRef(void 0),d=o.useRef(0),{setTimeout:C,clearTimeout:b}=Ie(),y=o.useCallback(()=>{v.current&&(b(v.current),v.current=void 0)},[b]),L=o.useCallback(()=>{p.current&&(b(p.current),p.current=void 0)},[b]),D=A(()=>{e!==$.SWIPE&&(f.current=0,d.current=0,y(),L())});o.useEffect(D,[e,D]);const R=A(x=>{p.current=void 0,f.current===x&&u(f.current)}),P=A(x=>{if(x.ctrlKey||Math.abs(x.deltaY)>Math.abs(x.deltaX))return;const O=N=>{h.current=N,b(m.current),m.current=N>0?C(()=>{h.current=0,m.current=void 0},300):void 0};if(e===$.NONE){if(Math.abs(x.deltaX)<=1.2*Math.abs(h.current)){O(x.deltaX);return}if(!r(-x.deltaX))return;if(g.current+=x.deltaX,y(),Math.abs(g.current)>30)g.current=0,O(0),d.current=Date.now(),s();else{const N=g.current;v.current=C(()=>{v.current=void 0,N===g.current&&(g.current=0)},i)}}else if(e===$.SWIPE){let N=f.current-x.deltaX;if(N=Math.min(Math.abs(N),n)*Math.sign(N),f.current=N,c(N),L(),Math.abs(N)>.2*n){O(x.deltaX),l(N,Date.now()-d.current);return}p.current=C(()=>R(N),2*i)}else O(x.deltaX)});o.useEffect(()=>t(wt,P),[t,P])}const ct=Ke("container"),Kt=o.createContext(null),ge=G("useController","ControllerContext",Kt);function Gn({children:e,...t}){var r;const{carousel:n,animation:i,controller:s,on:c,styles:l,render:u}=t,{closeOnPullUp:f,closeOnPullDown:g,preventDefaultWheelX:v,preventDefaultWheelY:p}=s,[h,m]=o.useState(),d=we(),C=On(),[b,y]=o.useState($.NONE),L=o.useRef(0),D=o.useRef(0),R=o.useRef(1),{registerSensors:P,subscribeSensors:x}=Hn(),{subscribe:O,publish:N}=Pe(),K=_e(),M=_e(),U=_e(),{containerRef:E,setContainerRef:T,containerRect:_}=Xt(),k=Be(Yn({preventDefaultWheelX:v,preventDefaultWheelY:p}),T),W=o.useRef(null),Q=Be(W,void 0),{getOwnerDocument:le}=qe(),Ne=Ye(),j=a=>(Ne?-1:1)*(typeof a=="number"?a:1),w=A(()=>{var a;return(a=E.current)===null||a===void 0?void 0:a.focus()}),oe=A(()=>t),je=A(()=>d),ve=o.useCallback(a=>N(ee,a),[N]),Ee=o.useCallback(a=>N(te,a),[N]),re=o.useCallback(()=>N(se),[N]),Le=a=>!(n.finite&&(j(a)>0&&d.currentIndex===0||j(a)<0&&d.currentIndex===d.slides.length-1)),Ge=a=>{var S;L.current=a,(S=E.current)===null||S===void 0||S.style.setProperty(B("swipe_offset"),`${Math.round(a)}px`)},Se=a=>{var S,V;D.current=a,R.current=(()=>{const ue=g&&a>0?a:f&&a<0?-a:0;return Math.min(Math.max(En(1-ue/60*(1-.5),2),.5),1)})(),(S=E.current)===null||S===void 0||S.style.setProperty(B("pull_offset"),`${Math.round(a)}px`),(V=E.current)===null||V===void 0||V.style.setProperty(B("pull_opacity"),`${R.current}`)},{prepareAnimation:jt}=rt(W,(a,S,V)=>{if(W.current&&_)return{keyframes:[{transform:`translate(0, ${a.rect.y-S.y+V.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),Qe=(a,S)=>{if(f||g){Se(a);let V=0;W.current&&(V=i.fade*(S?2:1),jt({rect:W.current.getBoundingClientRect(),opacity:R.current,duration:V})),U(()=>{Se(0),y($.NONE)},V),y($.ANIMATION),S||re()}},{prepareAnimation:Gt,isAnimationPlaying:Qt}=rt(W,(a,S,V)=>{var z;if(W.current&&_&&(!((z=d.animation)===null||z===void 0)&&z.duration)){const H=Ce(n.spacing),ue=(H.percent?H.percent*_.width/100:H.pixel)||0;return{keyframes:[{transform:`translate(${j(d.globalIndex-a.index)*(_.width+ue)+a.rect.x-S.x+V.x}px, 0)`},{transform:"translate(0, 0)"}],duration:d.animation.duration,easing:d.animation.easing}}}),ae=A(a=>{var S,V;const z=a.offset||0,H=z?i.swipe:(S=i.navigation)!==null&&S!==void 0?S:i.swipe,ue=!z&&!Qt()?i.easing.navigation:i.easing.swipe;let{direction:xe}=a;const be=(V=a.count)!==null&&V!==void 0?V:1;let Re=$.ANIMATION,q=H*be;if(!xe){const de=_?.width,tt=a.duration||0,De=de?H/de*Math.abs(z):H;be!==0?(tt<De?q=q/De*Math.max(tt,De/5):de&&(q=H/de*(de-Math.abs(z))),xe=j(z)>0?ee:te):q=H/2}let Oe=0;xe===ee?Le(j(1))?Oe=-be:(Re=$.NONE,q=H):xe===te&&(Le(j(-1))?Oe=be:(Re=$.NONE,q=H)),q=Math.round(q),M(()=>{Ge(0),y($.NONE)},q),W.current&&Gt({rect:W.current.getBoundingClientRect(),index:d.globalIndex}),y(Re),N(nt,{type:"swipe",increment:Oe,duration:q,easing:ue})});o.useEffect(()=>{var a,S;!((a=d.animation)===null||a===void 0)&&a.increment&&(!((S=d.animation)===null||S===void 0)&&S.duration)&&K(()=>C({type:"swipe",increment:0}),d.animation.duration)},[d.animation,C,K]);const Je=[x,Le,_?.width||0,i.swipe,()=>y($.SWIPE),a=>Ge(a),(a,S)=>ae({offset:a,duration:S,count:1}),a=>ae({offset:a,count:0})],Jt=[()=>{g&&y($.PULL)},a=>Se(a),a=>Qe(a),a=>Qe(a,!0)];qn(s,...Je,f,g,...Jt,re),jn(b,...Je);const Ze=A(()=>{s.focus&&le().querySelector(`.${I(He)} .${I(ct())}`)&&w()});o.useEffect(Ze,[Ze]);const et=A(()=>{var a;(a=c.view)===null||a===void 0||a.call(c,{index:d.currentIndex})});o.useEffect(et,[d.globalIndex,et]),o.useEffect(()=>Lt(O(ee,a=>ae({direction:ee,...a})),O(te,a=>ae({direction:te,...a})),O(nt,a=>C(a))),[O,ae,C]);const Zt=o.useMemo(()=>({prev:ve,next:Ee,close:re,focus:w,slideRect:_?bn(_,n.padding):{width:0,height:0},containerRect:_||{width:0,height:0},subscribeSensors:x,containerRef:E,setCarouselRef:Q,toolbarWidth:h,setToolbarWidth:m}),[ve,Ee,re,w,x,_,E,Q,h,m,n.padding]);return o.useImperativeHandle(s.ref,()=>({prev:ve,next:Ee,close:re,focus:w,getLightboxProps:oe,getLightboxState:je}),[ve,Ee,re,w,oe,je]),o.createElement("div",{ref:k,className:Y(I(ct()),I(vt)),style:{...b===$.SWIPE?{[B("swipe_offset")]:`${Math.round(L.current)}px`}:null,...b===$.PULL?{[B("pull_offset")]:`${Math.round(D.current)}px`,[B("pull_opacity")]:`${R.current}`}:null,...s.touchAction!=="none"?{[B("controller_touch_action")]:s.touchAction}:null,...l.container},tabIndex:-1,...P},_&&o.createElement(Kt.Provider,{value:Zt},e,(r=u.controls)===null||r===void 0?void 0:r.call(u)))}const Qn=ne(pt,Gn);function Z(e){return fe(mt,e)}function lt(e){return fe(Xe,e)}function Jn({slide:e,offset:t}){const r=o.useRef(null),{currentIndex:n,slides:i}=we(),{slideRect:s,focus:c}=ge(),{render:l,carousel:{imageFit:u,imageProps:f},on:{click:g},styles:{slide:v},labels:p}=he(),{getOwnerDocument:h}=qe(),m=t!==0;o.useEffect(()=>{var C;m&&(!((C=r.current)===null||C===void 0)&&C.contains(h().activeElement))&&c()},[m,c,h]);const d=()=>{var C,b,y,L;let D=(C=l.slide)===null||C===void 0?void 0:C.call(l,{slide:e,offset:t,rect:s});return!D&&Rt(e)&&(D=o.createElement(Xn,{slide:e,offset:t,render:l,rect:s,imageFit:u,imageProps:f,onClick:m?void 0:()=>g?.({index:n})})),D?o.createElement(o.Fragment,null,(b=l.slideHeader)===null||b===void 0?void 0:b.call(l,{slide:e}),((y=l.slideContainer)!==null&&y!==void 0?y:(({children:R})=>R))({slide:e,children:D}),(L=l.slideFooter)===null||L===void 0?void 0:L.call(l,{slide:e})):null};return o.createElement("div",{ref:r,className:Y(I(lt()),!m&&I(lt("current")),I(vt)),...Pn(m),style:v,role:"group","aria-roledescription":ce(p,"Slide"),"aria-label":vn(p,i,n+t)},d())}function Zn(){const e=he().styles.slide;return o.createElement("div",{className:I(Xe),style:e})}function eo({carousel:e,labels:t}){const{slides:r,currentIndex:n,globalIndex:i}=we(),{setCarouselRef:s}=ge(),{autoPlaying:c,focusWithin:l}=At(),u=Ce(e.spacing),f=Ce(e.padding),g=Cn(e,r,1),v=[];if(Ot(r))for(let p=n-g;p<=n+g;p+=1){const h=Dt(r,p),m=i-n+p,d=e.finite&&(p<0||p>r.length-1);v.push(d?{key:m}:{key:[`${m}`,_n(h)].filter(Boolean).join("|"),offset:p-n,slide:h})}return o.createElement("div",{ref:s,className:Y(I(Z()),v.length>0&&I(Z("with_slides"))),style:{[`${B(Z("slides_count"))}`]:v.length,[`${B(Z("spacing_px"))}`]:u.pixel||0,[`${B(Z("spacing_percent"))}`]:u.percent||0,[`${B(Z("padding_px"))}`]:f.pixel||0,[`${B(Z("padding_percent"))}`]:f.percent||0},role:"region","aria-live":c&&!l?"off":"polite","aria-roledescription":ce(t,"Carousel"),"aria-label":ce(t,"Photo gallery")},v.map(({key:p,slide:h,offset:m})=>h?o.createElement(Jn,{key:p,slide:h,offset:m}):o.createElement(Zn,{key:p})))}const to=ne(mt,eo);function zt(){const{carousel:e}=he(),{slides:t,currentIndex:r}=we(),n=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:n,nextDisabled:i}}function no(e){var t;const r=Ye(),{publish:n}=Pe(),{animation:i}=he(),{prevDisabled:s,nextDisabled:c}=zt(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,u=st(()=>n(ee),l),f=st(()=>n(te),l),g=A(v=>{switch(v.key){case fn:n(se);break;case hn:(r?c:s)||(r?f:u)();break;case mn:(r?s:c)||(r?u:f)();break}});o.useEffect(()=>e(Pt,g),[e,g])}function at({label:e,icon:t,renderIcon:r,action:n,onClick:i,disabled:s,style:c}){return o.createElement(Bt,{label:e,icon:t,renderIcon:r,className:I(`navigation_${n}`),disabled:s,onClick:i,style:c,...Bn(ge().focus,s)})}function oo({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:n},styles:i}){const{prev:s,next:c,subscribeSensors:l}=ge(),{prevDisabled:u,nextDisabled:f}=zt();return no(l),o.createElement(o.Fragment,null,e?e():o.createElement(at,{label:"Previous",action:ee,icon:Fn,renderIcon:r,style:i.navigationPrev,disabled:u,onClick:s}),t?t():o.createElement(at,{label:"Next",action:te,icon:Wn,renderIcon:n,style:i.navigationNext,disabled:f,onClick:c}))}const ro=ne(on,oo),ut=I(an),io=I(Et);function so(e){return"style"in e}function dt(e,t,r){const n=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?n.paddingLeft:n.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(ye(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function co({noScroll:{disabled:e},children:t}){const r=Ye(),{getOwnerDocument:n,getOwnerWindow:i}=qe();return o.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:u}=n(),f=Math.round(c.innerWidth-u.clientWidth);if(f>0){s.push(dt(l,f,r));const g=l.getElementsByTagName("*");for(let v=0;v<g.length;v+=1){const p=g[v];so(p)&&c.getComputedStyle(p).getPropertyValue("position")==="fixed"&&!p.classList.contains(io)&&s.push(dt(p,f,r))}}return l.classList.add(ut),()=>{l.classList.remove(ut),s.forEach(g=>g())}},[r,e,n,i]),o.createElement(o.Fragment,null,t)}const lo=ne(rn,co);function ft(e){return fe(He,e)}function ht(e,t,r){const n=e.getAttribute(t);return e.setAttribute(t,r),()=>{n?e.setAttribute(t,n):e.removeAttribute(t)}}function ao({children:e,animation:t,styles:r,className:n,on:i,portal:s,close:c,labels:l}){const[u,f]=o.useState(!1),[g,v]=o.useState(!1),p=o.useRef([]),h=o.useRef(null),{setTimeout:m}=Ie(),{subscribe:d}=Pe(),b=Ht()?0:t.fade;o.useEffect(()=>(f(!0),()=>{f(!1),v(!1)}),[]);const y=A(()=>{p.current.forEach(P=>P()),p.current=[]}),L=A(()=>{var P;v(!1),y(),(P=i.exiting)===null||P===void 0||P.call(i),m(()=>{var x;(x=i.exited)===null||x===void 0||x.call(i),c()},b)});o.useEffect(()=>d(se,L),[d,L]);const D=A(P=>{var x,O,N;wn(P),v(!0),(x=i.entering)===null||x===void 0||x.call(i);const K=(N=(O=P.parentNode)===null||O===void 0?void 0:O.children)!==null&&N!==void 0?N:[];for(let M=0;M<K.length;M+=1){const U=K[M];["TEMPLATE","SCRIPT","STYLE"].indexOf(U.tagName)===-1&&U!==P&&(p.current.push(ht(U,"inert","")),p.current.push(ht(U,"aria-hidden","true")))}p.current.push(()=>{var M,U;(U=(M=h.current)===null||M===void 0?void 0:M.focus)===null||U===void 0||U.call(M)}),m(()=>{var M;(M=i.entered)===null||M===void 0||M.call(i)},b)}),R=o.useCallback(P=>{P?D(P):y()},[D,y]);return u?en.createPortal(o.createElement(Kn,{ref:R,className:Y(n,I(ft()),I(Et),g&&I(ft("open"))),"aria-modal":!0,role:"dialog","aria-label":ce(l,"Lightbox"),style:{...t.fade!==Ve.animation.fade?{[B("fade_animation_duration")]:`${b}ms`}:null,...t.easing.fade!==Ve.animation.easing.fade?{[B("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:P=>{h.current||(h.current=P.relatedTarget)}},e),s.root||document.body):null}const uo=ne(He,ao);function fo({children:e}){return o.createElement(o.Fragment,null,e)}const ho=ne(sn,fo);function mo(e){return fe(gt,e)}function po({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:n}){const{close:i,setToolbarWidth:s}=ge(),{setContainerRef:c,containerRect:l}=Xt();pe(()=>{s(l?.width)},[s,l?.width]);const u=()=>t?t():o.createElement(Bt,{key:se,label:"Close",icon:kn,renderIcon:r,onClick:i});return o.createElement("div",{ref:c,style:n.toolbar,className:I(mo())},e?.map(f=>f===se?u():f))}const go=ne(gt,po);function qt(e,t){var r;return o.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(n=>qt(n,t)))}function vo(e,t={}){const{easing:r,...n}=e,{easing:i,...s}=t;return{easing:{...r,...i},...n,...s}}function Co({carousel:e,animation:t,render:r,toolbar:n,controller:i,noScroll:s,on:c,plugins:l,slides:u,index:f,...g}){const{animation:v,carousel:p,render:h,toolbar:m,controller:d,noScroll:C,on:b,slides:y,index:L,plugins:D,...R}=Ve,{config:P,augmentation:x}=In([F(uo,[F(lo,[F(Qn,[F(to),F(go),F(ro)])])])],l||D),O=x({animation:vo(v,t),carousel:{...p,...e},render:{...h,...r},toolbar:{...m,...n},controller:{...d,...i},noScroll:{...C,...s},on:{...b,...c},...R,...g});return O.open?o.createElement(Rn,{...O},o.createElement(Tn,{slides:u||y,index:ye(f||L)},o.createElement(Mn,null,o.createElement(Sn,null,o.createElement(Nn,null,qt(F(ho,P),O)))))):null}const Yt=()=>tn(nn`
    query AllHeroImagesQuery {
      allFile(filter: { sourceInstanceName: { eq: "hero" } }) {
        nodes {
          name
          childImageSharp {
            fixedData: gatsbyImageData(
              width: 600
              height: 400
              quality: 75
              layout: FIXED
              placeholder: BLURRED
            )
            fluidData: gatsbyImageData(
              width: 800
              height: 600
              quality: 75
              layout: CONSTRAINED
              placeholder: BLURRED
            )
            heroFluidData: gatsbyImageData(
              width: 2048
              quality: 85
              layout: CONSTRAINED
              placeholder: BLURRED
            )
            heroFixedData: gatsbyImageData(
              width: 64
              height: 48
              quality: 20
              layout: FIXED
              placeholder: DOMINANT_COLOR
            )
            carouselFluidData: gatsbyImageData(
              width: 2048
              height: 1536
              quality: 85
              layout: CONSTRAINED
              placeholder: BLURRED
            )
            carouselFixedData: gatsbyImageData(
              width: 48
              height: 32
              quality: 20
              layout: FIXED
            )
            lightboxFluidData: gatsbyImageData(
              width: 4096
              quality: 90
              layout: CONSTRAINED
            )
          }
        }
      }
    }
  `).allFile.nodes.map(r=>{const n=r.childImageSharp||{},i=n.fixedData?J(n.fixedData):"",s=n.fluidData?J(n.fluidData):"",c=n.heroFluidData?J(n.heroFluidData):s,l=n.heroFixedData?J(n.heroFixedData):i,u=n.carouselFluidData?J(n.carouselFluidData):c,f=n.carouselFixedData?J(n.carouselFixedData):i,g=n.lightboxFluidData?J(n.lightboxFluidData):c;return{name:r.name,childImageSharp:{fixed:{src:i},fluid:{src:s||c},heroFluid:{src:c},heroFixed:{src:l},carouselFluid:{src:u},carouselFixed:{src:f},lightboxFluid:{src:g}}}}),yo=()=>[...Yt()].sort(()=>Math.random()-.5).slice(0,8),Po=()=>Yt();export{Co as L,yo as a,Po as u};
